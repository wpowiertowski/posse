# Mastodon Test Instance Configuration
# This file configures a minimal Mastodon instance for integration testing

# Basic Configuration
LOCAL_DOMAIN=localhost:3000
SINGLE_USER_MODE=false
SECRET_KEY_BASE=test_secret_key_base_for_integration_testing_purposes_only_not_for_production_use_12345
OTP_SECRET=test_otp_secret_for_integration_testing_purposes_only_not_for_production_123456789

# Database Configuration
DB_HOST=mastodon-db
DB_PORT=5432
DB_NAME=mastodon_test
DB_USER=mastodon
DB_PASS=

# Redis Configuration
REDIS_HOST=mastodon-redis
REDIS_PORT=6379

# Federation (disabled for testing)
LOCAL_HTTPS=false
SMTP_SERVER=localhost
SMTP_PORT=25
SMTP_FROM_ADDRESS=notifications@localhost

# Storage (local only, no S3)
S3_ENABLED=false

# Search (disabled for testing)
ES_ENABLED=false

# Optional features (disabled for testing)
PAPERCLIP_ROOT_PATH=/mastodon/public/system
PAPERCLIP_ROOT_URL=/system

# Rails environment
RAILS_ENV=production
RAILS_SERVE_STATIC_FILES=true
RAILS_LOG_LEVEL=warn

# Disable some non-essential features for faster startup
PREPARED_STATEMENTS=true
STREAMING_API_BASE_URL=ws://mastodon-web:4000
