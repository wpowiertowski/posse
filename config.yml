# POSSE Configuration File
# This file contains application configuration settings

# Pushover Push Notifications
# Enable push notifications via Pushover service for main events
# (post received, post queued, validation errors)
pushover:
  # Set to true to enable Pushover notifications
  # Requires Docker secrets: pushover_app_token and pushover_user_key
  enabled: true
  
  # Secrets paths (when using Docker secrets)
  # These will be mounted by Docker Compose at runtime
  app_token_file: /run/secrets/pushover_app_token
  user_key_file: /run/secrets/pushover_user_key

# Mastodon Configuration
# Configure multiple Mastodon accounts
#
# Example multi-account configuration:
# mastodon:
#   accounts:
#     - name: "personal"
#       instance_url: "https://mastodon.social"
#       access_token_file: "/run/secrets/mastodon_personal_access_token"
#     - name: "work"
#       instance_url: "https://fosstodon.org"
#       access_token_file: "/run/secrets/mastodon_work_access_token"
#
# For a single account, simply configure one account in the accounts array:
# mastodon:
#   accounts:
#     - name: "main"
#       instance_url: "https://mastodon.social"
#       access_token_file: "/run/secrets/mastodon_access_token"

# Bluesky Configuration
# Configure multiple Bluesky accounts
# Same structure as Mastodon configuration above
#
# Example multi-account configuration:
# bluesky:
#   accounts:
#     - name: "main"
#       instance_url: "https://bsky.social"
#       access_token_file: "/run/secrets/bluesky_main_access_token"
#     - name: "professional"
#       instance_url: "https://bsky.social"
#       access_token_file: "/run/secrets/bluesky_professional_access_token"

# Ghost Content API Configuration
# Configure the Ghost Content API for interaction sync post discovery.
# When configured, the interaction scheduler uses the Ghost API to:
# - Discover recent posts and their actual published dates
# - Filter out unpublished or deleted posts from sync
# - Get more accurate post age information
#
# Example configuration:
# ghost:
#   content_api:
#     url: "https://yourblog.com"
#     key: "your-content-api-key"
#     # Or use Docker secrets:
#     # key_file: "/run/secrets/ghost_content_api_key"
#     version: "v5.0"
#     timeout: 30

# Interactions Configuration
# Configure interaction sync settings
#
# Example configuration:
# interactions:
#   enabled: true
#   sync_interval_minutes: 30
#   max_post_age_days: 30
#   cache_directory: "./data"

# Webmention Reply Form Configuration
# Enable a self-hosted reply form that allows visitors without their own
# websites to send webmentions (replies) to your blog posts.
#
# The reply is stored locally and served as an h-entry page, then a
# webmention is sent to your blog's webmention endpoint.
#
# Example configuration:
# webmention_reply:
#   enabled: true
#   blog_name: "Behind the Viewfinder"
#   allowed_target_origins:
#     - "https://behindtheviewfinder.com"
#   rate_limit: 5                  # Max replies per IP per hour
#   rate_limit_window_seconds: 3600
#   turnstile_site_key: ""         # Cloudflare Turnstile public key
#   turnstile_secret_key_file: /run/secrets/turnstile_secret_key

# Webmention Sending Configuration
# Send webmentions to one or more targets when posts are tagged.
# Each target specifies a tag that triggers sending, an endpoint URL, and
# a target URL. This is useful for submitting posts to aggregators or
# notifying other sites.
#
# Example configuration:
# webmention:
#   enabled: true
#   targets:
#     - name: "IndieWeb News"
#       endpoint: "https://news.indieweb.org/en/webmention"
#       target: "https://news.indieweb.org/en"
#       tag: "indiewebnews"
#       timeout: 30
